"use strict";(self.webpackChunk_fp_tx_core=self.webpackChunk_fp_tx_core||[]).push([[5742],{174:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var t=n(3274),s=n(9779);const r={sidebar_position:0,title:"Home",slug:"/"},o="fp-tx",c={id:"index",title:"Home",description:"fp-tx is a continuation of fp-ts, a functional programming library for TypeScript inspired by PureScript and Haskell.",source:"@site/docs/index.md",sourceDirName:".",slug:"/",permalink:"/",draft:!1,unlisted:!1,editUrl:"https://github.com/fp-tx/core/blob/main/docs/index.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0,title:"Home",slug:"/"},sidebar:"defaultSidebar",next:{title:"Modules",permalink:"/modules"}},a={},d=[{value:"Motivation",id:"motivation",level:2},{value:"Migration",id:"migration",level:2},{value:"Comparison to fp-ts",id:"comparison-to-fp-ts",level:2},{value:"ES Modules",id:"es-modules",level:3},{value:"New Features",id:"new-features",level:3},{value:"<code>ChainRec</code>",id:"chainrec",level:4},{value:"<code>do</code> notation",id:"do-notation",level:4},{value:"Roadmap",id:"roadmap",level:2},{value:"<code>0.x</code> and <code>1.x</code>",id:"0x-and-1x",level:3},{value:"<code>2.0</code>",id:"20",level:3},{value:"Contribution and Community",id:"contribution-and-community",level:2},{value:"<code>@fp-tx</code> Organization Roadmap",id:"fp-tx-organization-roadmap",level:2}];function l(e){const i={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{align:"center",children:(0,t.jsx)("img",{src:"https://github.com/fp-tx/core/assets/7153123/268066f8-90e5-427a-9d15-9ccc99ee2632",alt:"fp-tx"})}),"\n",(0,t.jsx)(i.h1,{id:"fp-tx",children:"fp-tx"}),"\n",(0,t.jsx)(i.p,{children:"fp-tx is a continuation of fp-ts, a functional programming library for TypeScript inspired by PureScript and Haskell."}),"\n",(0,t.jsx)(i.h2,{id:"motivation",children:"Motivation"}),"\n",(0,t.jsx)(i.p,{children:"Effect has officially replaced fp-ts, and there are many upsides to Effect. For example, there is no need to worry about picking an effect type, there is only one: Effect. It handles synchronous and asynchronous computation, stack-safe recursion, graceful exits, dependency composition, and comes with pre-constructed services and providers."}),"\n",(0,t.jsx)(i.p,{children:"However, the core philosophy of fp-ts, inspired by typeclasses and monadic composition, makes it a valuable choice. The effect types in fp-ts are dead simple, easy to understand, and their inner mechanisms are transparent to users of the library. The downsides to this approach, namely: stack traces, error handling as a discipline, and stack safety are greatly outweighed by the purely functional nature and design of the library."}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"@fp-tx"})," was written as a passion project to revive fp-ts and improve on its critical downsides."]}),"\n",(0,t.jsx)(i.h2,{id:"migration",children:"Migration"}),"\n",(0,t.jsxs)(i.p,{children:["The API surface of ",(0,t.jsx)(i.code,{children:"@fp-tx/core"})," for versions 0.x and 1.x are intentionally identical to ",(0,t.jsx)(i.code,{children:"fp-ts"}),". This is so that existing libraries and apps can migrate by simply replacing the import ",(0,t.jsx)(i.code,{children:"fp-ts(/(lib | es6))/*"})," with ",(0,t.jsx)(i.code,{children:"@fp-tx/core/*"})]}),"\n",(0,t.jsx)(i.h2,{id:"comparison-to-fp-ts",children:"Comparison to fp-ts"}),"\n",(0,t.jsx)(i.h3,{id:"es-modules",children:"ES Modules"}),"\n",(0,t.jsxs)(i.p,{children:["fp-ts has a critical weakness which inspired this entire project: incompatibility with Node ESModules. Within the last few years, certain libraries have adopted an ESM only philosophy which greatly restricted interoperability with other parts of the JavaScript ecosystem, like fp-ts. fp-ts supports two module types: CommonJS and ES6 (a name for tree-shakable module code for browsers and bundlers). However, when Node adopted ESM it took a hard stance for when it would parse module code. If a ",(0,t.jsx)(i.code,{children:"package.json"})," has ",(0,t.jsx)(i.code,{children:'"type": "module"'})," it will interpret JS files as containing ",(0,t.jsx)(i.code,{children:"import"})," / ",(0,t.jsx)(i.code,{children:"export"})," (ESM). And it will restrict any JS file which contains require, requiring those files to have a ",(0,t.jsx)(i.code,{children:".cjs"})," extension. And the opposite is true, if the ",(0,t.jsx)(i.code,{children:"package.json"})," omits or lists ",(0,t.jsx)(i.code,{children:'"type": "commonjs"'})," Node will interpret JS files as containing ",(0,t.jsx)(i.code,{children:"require"}),", and interpret ",(0,t.jsx)(i.code,{children:".mjs"})," as containing ",(0,t.jsx)(i.code,{children:"import"})," and ",(0,t.jsx)(i.code,{children:"export"}),". The compatibility issue arises when a library forces a Node project to be written in ESM. That project will no longer be compatible with fp-ts."]}),"\n",(0,t.jsx)(i.h3,{id:"new-features",children:"New Features"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/core"})," comes with juicy new features, below are a list of current and future features which aim to improve fp-ts in key areas while maintaining its core set of values."]}),"\n",(0,t.jsx)(i.h4,{id:"chainrec",children:(0,t.jsx)(i.code,{children:"ChainRec"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/core"})," comes with a complete suite of ",(0,t.jsx)(i.code,{children:"ChainRec"})," instances (see ",(0,t.jsx)(i.a,{href:"https://github.com/jacob-alford/chain-rec",children:"@jacob-alford/chain-rec"}),"). ChainRec largely overcomes the stack-safety problem when constructing recursive effects."]}),"\n",(0,t.jsxs)(i.h4,{id:"do-notation",children:[(0,t.jsx)(i.code,{children:"do"})," notation"]}),"\n",(0,t.jsxs)(i.p,{children:["Inspired by effect's ",(0,t.jsx)(i.code,{children:"gen"})," notation and powered by ",(0,t.jsx)(i.code,{children:"ChainRec"}),", ",(0,t.jsx)(i.code,{children:"@fp-tx/core"})," comes with ",(0,t.jsx)(i.code,{children:"do"})," notation for any data type which supports a ",(0,t.jsx)(i.code,{children:"ChainRec"})," instance."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:"import * as E from '@fp-tx/core/Either'\n\ndeclare const lastLogin_: E.Either<string, Date>\n\ndeclare const name_: E.Either<Error, string>\n\n//    \u2193\u2193\u2193\u2193\u2193\u2193\u2193\u2193 has type E.Either<string | Date, string>\nconst greeting = E.do(function* ($) {\n  const lastLogin = yield* $(lastLogin_)\n  //    \u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191 has type Date\n  const name = yield* $(name_)\n  //    \u2191\u2191\u2191\u2191 has type string\n  return `Welcome ${name}!  Your last login was ${lastLogin.toLocaleString()}`\n})\n"})}),"\n",(0,t.jsx)(i.h2,{id:"roadmap",children:"Roadmap"}),"\n",(0,t.jsxs)(i.h3,{id:"0x-and-1x",children:[(0,t.jsx)(i.code,{children:"0.x"})," and ",(0,t.jsx)(i.code,{children:"1.x"})]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/core"})," is starting off with ",(0,t.jsx)(i.code,{children:"0.x"})," to ensure that the build and pack processes \u2013 which guarantee compatibility with all library types and build processes \u2013 is solid. A version starting with ",(0,t.jsx)(i.code,{children:"0.x"})," permits breaking changes between minor version updates, this means that if you've installed any ",(0,t.jsx)(i.code,{children:"0.x"})," version, the package manager you choose will not update a minor version automatically. Once the build process has been thoroughly tested, ",(0,t.jsx)(i.code,{children:"1.0"})," will be forthcoming."]}),"\n",(0,t.jsx)(i.p,{children:"Additionally, the following modules are planned for release once development of the organization slows down:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"StateReaderTask"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"StateTaskEither"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"StateTask"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"StateEither"})}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Bifoldable"})," and ",(0,t.jsx)(i.code,{children:"Bitraversable"}),": a port of ",(0,t.jsx)(i.a,{href:"https://github.com/jacob-alford/bifold-traverse",children:(0,t.jsx)(i.code,{children:"@jacob-alford/bifold-traverse"})})]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"20",children:(0,t.jsx)(i.code,{children:"2.0"})}),"\n",(0,t.jsxs)(i.p,{children:["2.0 will be the coveted 3.0 release of ",(0,t.jsx)(i.code,{children:"fp-ts"})," which took a few different forms before being cancelled for effect. ",(0,t.jsx)(i.code,{children:"@fp-tx/core"})," will largely be the same to make transitioning easier, but will properly adopt much needed improvements:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["A new HKT mechanism: ",(0,t.jsx)(i.code,{children:"TypeLambda"}),"s like those in ",(0,t.jsx)(i.code,{children:"@effect/typeclass"}),", the n-ary HKT system proposal by @skeate, or others!"]}),"\n",(0,t.jsx)(i.li,{children:"Combinator widening by default"}),"\n",(0,t.jsxs)(i.li,{children:["A better and publicly exposed ",(0,t.jsx)(i.code,{children:"dual"})," system"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"contribution-and-community",children:"Contribution and Community"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"@fp-tx"})," readily welcomes community run libraries with a few caveats. The library must use ",(0,t.jsx)(i.code,{children:"@fp-tx/build-tools"})," under the hood, and have been constructed using the GitHub template or ",(0,t.jsx)(i.code,{children:"@fp-tx/create"}),". This guarantees that ",(0,t.jsx)(i.code,{children:"@fp-tx"})," libraries will be compatible with other JavaScript libraries. These template constructors are not currently available but are planned for the near future."]}),"\n",(0,t.jsxs)(i.h2,{id:"fp-tx-organization-roadmap",children:[(0,t.jsx)(i.code,{children:"@fp-tx"})," Organization Roadmap"]}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/schema"})," \u2013 a port of ",(0,t.jsx)(i.a,{href:"https://github.com/jacob-alford/schemata-ts",children:(0,t.jsx)(i.code,{children:"schemata-ts"})}),", a modern feature rich schema validation library"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/parser"})," \u2013 based on ",(0,t.jsx)(i.a,{href:"https://github.com/gcanti/parser-ts",children:(0,t.jsx)(i.code,{children:"parser-ts"})}),", a port of ",(0,t.jsx)(i.code,{children:"purescript-eulalie"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/trout"})," \u2013 bidirectional type-safe route declarations"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/services"})," \u2013 common services such as ",(0,t.jsx)(i.code,{children:"Fs"}),", ",(0,t.jsx)(i.code,{children:"HttpRequests"}),", and ",(0,t.jsx)(i.code,{children:"Logging"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/providers"})," \u2013 platform agnostic service implementations"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/node"})," \u2013 service implementations for Node apps"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/web"})," \u2013 service implementations for the browser"]}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsxs)(i.del,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/template"})," \u2013 a template repository for ",(0,t.jsx)(i.code,{children:"fp-tx"})," libraries"]})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsxs)(i.del,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/documenter"})," \u2013 a tool for generating documentation for ",(0,t.jsx)(i.code,{children:"fp-tx"})," libraries"]})}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"@fp-tx/create"})," \u2013 a CLI tool for generating new ",(0,t.jsx)(i.code,{children:"fp-tx"})," libraries"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},9779:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>c});var t=n(9474);const s={},r=t.createContext(s);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);